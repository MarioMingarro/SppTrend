% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/spp_strategy.R
\name{spp_strategy}
\alias{spp_strategy}
\title{Classify species ecological strategies}
\usage{
spp_strategy(spp_trend_result, sig_level = 0.05, responses = responses)
}
\arguments{
\item{spp_trend_result}{A data frame containing trend indicators per species, typically generated by the \code{spp_trend} function. It should include columns such as:
\itemize{
\item \code{species}: Species names.
\item \code{trend}: Trend values for the response variable.
\item \code{t}: t-statistic values from the trend analysis.
\item \code{pvalue}: p-values associated with the trend.
\item \code{responses}: The response variable analyzed (e.g., "lat", "lon", "tmx", "tmn", "tme").
\item \code{dif_t}: Difference in t-statistic values comparing the species trend to the general trend.
\item \code{dif_pvalue}: Difference in p-values comparing the species trend to the general trend.
\item \code{n}: Sample size for the trend analysis.
\item \code{hemisphere}: Hemisphere information ("North", "South", "Both").
}}

\item{sig_level}{The significance level (alpha) to use for classifying trends as
significant. Defaults to 0.05.}

\item{responses}{A vector of response variable names to analyze (e.g.,
\code{c("lat", "lon", "tmx", "tmn", "tme")}). The function will only create
classification columns for responses present in this vector and in the
'responses' column of \code{spp_trend_result}.}
}
\value{
A data frame summarizing the ecological strategy of each species for each
analyzed response variable. The table includes the species name, hemisphere,
sample size, and classification columns for spatial (latitude, longitude,
elevation if present) and thermal (tmx, tmn, tme if present) responses.
The classification for latitude ('lat') is 'Spatial_lat_Poleward' and indicates
poleward (SP) or equatorward (SE) shifts based on hemisphere. Other spatial
responses ('lon', 'ele') are classified as 'Spatial_lon' and 'Spatial_ele'
(Spatial Adaptation 'SA', Spatial Discordance 'SD', Spatial Conformity 'SC').
Thermal responses ('tmx', 'tmn', 'tme') are classified as 'Thermal_tmx',
'Thermal_tmn', and 'Thermal_tme' (Thermal Tolerance 'TT', Thermal Adjustment
'TA', Thermal Conformity 'TC').
}
\description{
Creates a summary table classifying species based on their significant spatial and thermal trends, potentially incorporating poleward shift logic for
latitude based on hemisphere information. It compares individual species trends (from \code{spp_trend}) with a general trend and classifies them into different
ecological strategies as defined in the SppTrend methodology. Note that longitude trend interpretation depends on whether the input used transformed coordinates (Antimeridian=0).
}
\details{
This function takes the trend analysis results from \code{spp_trend} and
classifies each species' response based on the significance of its trend and
how it differs from the general trend. The classification follows the SppTrend
methodology, identifying three possible spatial responses and three thermal
responses:
\itemize{
\item \strong{Spatial Responses:}
\itemize{
\item \strong{Spatial Adaptation (SA):} The species' presence shows a
significant positive temporal trend, significantly different from the
overall trend. For latitude, this translates to a poleward shift (SP)
in the Northern Hemisphere and an equatorward shift (SE) in the
Southern Hemisphere.
\item \strong{Spatial Discordance (SD):} The species' presence shows a
significant negative temporal trend, significantly different from the
overall trend. For latitude, this translates to an equatorward shift
(SE) in the Northern Hemisphere and a poleward shift (SP) in the
Southern Hemisphere.
\item \strong{Spatial Conformity (SC):} The species' presence follows a
temporal trend that is not significantly different from the overall
trend.
}
\item \strong{Thermal Responses:}
\itemize{
\item \strong{Thermal Tolerance (TT):} The species shows a significant
positive response to temperature over time, significantly different
from the overall trend.
\item \strong{Thermal Adjustment (TA):} The species shows a significant
negative response to temperature over time, significantly different
from the overall trend.
\item \strong{Thermal Conformity (TC):} The species follows a thermal
trend that is not significantly different from the overall trend.
}
}
The function handles latitude trends with a poleward shift logic based on the
detected hemisphere. The interpretation of longitude trends assumes that if
transformation was applied in \code{spp_trend}, it used the Antimeridian as 0.
}
\examples{

# Assuming spp_trends_results is a data frame generated by spp_trend()

spp_trends_results <- data.frame(
  species = paste0("spp_", 1:10),
  responses = rep(c("lat", "lon", "tme"), length.out = 30),
  trend = runif(30, -0.5, 0.5),
  t = runif(30, -2, 2),
  pvalue = runif(30, 0, 1),
  dif_t = runif(30, -1, 1.5),
  dif_pvalue = runif(30, 0.001, 0.9),
  n = round(runif(30, 40, 60)),
  hemisphere = sample(c("North", "South", "Both"), 30, replace = TRUE)
)

spp <- unique(spp_trends_results$species)
sig_level <- 0.05 / length(spp) # Bonferroni
responses_to_analyze <- c("lat", "lon", "tme")

spp_strategy_results <- spp_strategy(spp_trends_results,
                                     sig_level = sig_level,
                                     responses = responses_to_analyze)

print(spp_strategy_results)

}
